"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[782],{8782:(e,t,n)=>{n.r(t),n.d(t,{initMosfetViewer:()=>A});var r=n(7548),o=n(5833),a=n(9323);class l extends r.B69{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new r.I9Y(.5,.5),this.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}let i=new r.Pq0,s=new r.kn4,c=new r.kn4,d=new r.Pq0,m=new r.Pq0;class u{constructor(e={}){let t,n,r,o,a=this,l={objects:new WeakMap},u=void 0!==e.element?e.element:document.createElement("div");u.style.overflow="hidden",this.domElement=u,this.getSize=function(){return{width:t,height:n}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),s.copy(t.matrixWorldInverse),c.multiplyMatrices(t.projectionMatrix,s),function e(t,n,s){if(!1===t.visible)return void function e(t){t.isCSS2DObject&&(t.element.style.display="none");for(let n=0,r=t.children.length;n<r;n++)e(t.children[n])}(t);if(t.isCSS2DObject){var p,f;i.setFromMatrixPosition(t.matrixWorld),i.applyMatrix4(c);let e=i.z>=-1&&i.z<=1&&!0===t.layers.test(s.layers),h=t.element;h.style.display=!0===e?"":"none",!0===e&&(t.onBeforeRender(a,n,s),h.style.transform="translate("+-100*t.center.x+"%,"+-100*t.center.y+"%)translate("+(i.x*r+r)+"px,"+(-i.y*o+o)+"px)",h.parentNode!==u&&u.appendChild(h),t.onAfterRender(a,n,s));let b={distanceToCameraSquared:(p=s,f=t,d.setFromMatrixPosition(p.matrixWorld),m.setFromMatrixPosition(f.matrixWorld),d.distanceToSquared(m))};l.objects.set(t,b)}for(let r=0,o=t.children.length;r<o;r++)e(t.children[r],n,s)}(e,e,t),function(e){let t=(function(e){let t=[];return e.traverseVisible(function(e){e.isCSS2DObject&&t.push(e)}),t})(e).sort(function(e,t){return e.renderOrder!==t.renderOrder?t.renderOrder-e.renderOrder:l.objects.get(e).distanceToCameraSquared-l.objects.get(t).distanceToCameraSquared}),n=t.length;for(let e=0,r=t.length;e<r;e++)t[e].element.style.zIndex=n-e}(e)},this.setSize=function(e,a){t=e,n=a,r=t/2,o=n/2,u.style.width=e+"px",u.style.height=a+"px"}}}var p=n(2006),f=n(6170),h=n(6451);let b="/".concat("/GotYouCovered".replace(/^\/|\/$/g,"")),v="".concat(b,"/models/MOSFET.glb"),x="__mosfetViewerAttached";function g(e,t,n){let r=e.querySelector(t);if(r)return r.classList.add(n),r;let o=document.createElement("div");return o.className=n,e.appendChild(o),o}function w(e){return e&&e.isMesh?e:null}function y(e){return Array.isArray(e.material)?e.material:[e.material]}function E(e){e&&(Array.isArray(e.material)?e.material=e.material.map(e=>e.clone()):e.material=e.material.clone())}function S(e,t,n){if(!t)return;let r=y(t).map(e=>({color:e.color?e.color.getHex():void 0,emissive:e.emissive?e.emissive.getHex():void 0,emissiveIntensity:e.emissiveIntensity,opacity:e.opacity,transparent:e.transparent,depthWrite:e.depthWrite,visible:e.visible}));n.set(e,r)}function C(e,t,n){if(!t)return;let r=n.get(e);r&&y(t).forEach((e,t)=>{let n=r[t];n&&(e.color&&void 0!==n.color&&e.color.setHex(n.color),e.emissive&&void 0!==n.emissive&&e.emissive.setHex(n.emissive),void 0!==n.emissiveIntensity&&(e.emissiveIntensity=n.emissiveIntensity),void 0!==n.opacity&&(e.opacity=n.opacity),void 0!==n.transparent&&(e.transparent=n.transparent),void 0!==n.depthWrite&&(e.depthWrite=n.depthWrite),void 0!==n.visible&&(e.visible=n.visible))})}function k(e,t,n){e&&y(e).forEach(e=>{e.emissive?(e.emissive.setHex(t),e.emissiveIntensity=n):e.color&&(e.color.setHex(t),"number"==typeof e.opacity&&(e.transparent=!0,e.opacity=Math.min(1,Math.max(.1,n/1.5))))})}function L(e,t){e&&y(e).forEach(e=>{e.transparent=!0,e.opacity=t,void 0!==e.depthWrite&&(e.depthWrite=!1)})}function N(e,t,n){if(!e)return null;let o=document.createElement("div");o.className="mosfet-label",o.textContent=t;let a=new l(o);if(n)return n.add(a),a.position.set(0,0,0),a;let i=new r.NRn().setFromObject(e),s=i.getCenter(new r.Pq0),c=new r.Pq0(s.x,i.max.y,s.z);return e.worldToLocal(c),e.add(a),a.position.copy(c),a}function A(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"==typeof document)return null;let n=function(e){if("undefined"==typeof document)return null;if(e){let t=document.querySelector(e);if(t)return t}let t=document.querySelector("[data-mosfet-viewer]");return t||document.getElementById("mosfet-viewer")}(t.containerSelector);if(!n)return console.error("[MOSFET Viewer] No container found. Add [data-mosfet-viewer] or #mosfet-viewer."),null;if(n[x])return n[x];!function(){if("undefined"==typeof document||document.getElementById("mosfet-viewer-style"))return;let e=document.createElement("style");e.id="mosfet-viewer-style",e.textContent='\n    [data-mosfet-viewer], .mosfet-shell {\n      position: relative;\n      overflow: hidden;\n    }\n    .mosfet-viewer-canvas {\n      position: absolute;\n      inset: 0;\n    }\n    .mosfet-viewer-canvas canvas {\n      width: 100%;\n      height: 100%;\n      display: block;\n      border-radius: inherit;\n    }\n    .mosfet-controls-panel {\n      position: absolute;\n      right: 0.75rem;\n      top: 0.75rem;\n      display: flex;\n      flex-direction: column;\n      gap: 0.4rem;\n      padding: 0.75rem;\n      border-radius: 0.9rem;\n      background: color-mix(in srgb, var(--card, rgba(255,255,255,0.9)) 92%, transparent 8%);\n      border: 1px solid color-mix(in srgb, var(--line, rgba(15,23,42,0.14)) 80%, transparent 20%);\n      box-shadow: 0 18px 48px -30px rgba(0, 0, 0, 0.65);\n      max-width: min(360px, 48vw);\n      z-index: 5;\n      pointer-events: auto;\n      color: var(--fg, #0b1021);\n    }\n    .mosfet-controls-panel h4 {\n      margin: 0;\n      font-size: 0.95rem;\n      font-weight: 700;\n      letter-spacing: 0.01em;\n    }\n    .mosfet-control {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      gap: 0.75rem;\n      font-size: 0.85rem;\n    }\n    .mosfet-control label {\n      display: flex;\n      align-items: center;\n      gap: 0.35rem;\n      cursor: pointer;\n      color: var(--muted, #3a4058);\n      font-weight: 600;\n    }\n    .mosfet-control input[type="range"] {\n      width: 120px;\n      accent-color: var(--accent, #32d5ff);\n    }\n    .mosfet-control input[type="checkbox"] {\n      accent-color: var(--accent, #32d5ff);\n    }\n    .mosfet-control .value {\n      font-variant-numeric: tabular-nums;\n      font-size: 0.8rem;\n      color: color-mix(in srgb, var(--fg, #0b1021) 90%, transparent 10%);\n    }\n    .mosfet-reset {\n      border: 1px solid color-mix(in srgb, var(--line, rgba(15,23,42,0.14)) 80%, transparent 20%);\n      background: color-mix(in srgb, var(--card, rgba(255,255,255,0.9)) 90%, transparent 10%);\n      border-radius: 0.65rem;\n      padding: 0.45rem 0.65rem;\n      font-size: 0.85rem;\n      font-weight: 700;\n      cursor: pointer;\n      color: var(--fg, #0b1021);\n      transition: transform 150ms ease, box-shadow 150ms ease;\n    }\n    .mosfet-reset:hover {\n      transform: translateY(-1px);\n      box-shadow: 0 12px 32px -20px rgba(0,0,0,0.5);\n    }\n    .mosfet-label-layer {\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      font-size: 12px;\n    }\n    .mosfet-label {\n      padding: 4px 8px;\n      border-radius: 999px;\n      background: color-mix(in srgb, var(--card, rgba(255,255,255,0.9)) 92%, transparent 8%);\n      border: 1px solid color-mix(in srgb, var(--line, rgba(15,23,42,0.14)) 80%, transparent 20%);\n      color: var(--fg, #0b1021);\n      text-shadow: 0 1px 6px rgba(0,0,0,0.25);\n      white-space: nowrap;\n      backdrop-filter: blur(6px);\n    }\n    .mosfet-fs-btn {\n      position: absolute;\n      left: 0.75rem;\n      top: 0.75rem;\n      z-index: 6;\n      border: 1px solid color-mix(in srgb, var(--line, rgba(15,23,42,0.14)) 80%, transparent 20%);\n      background: color-mix(in srgb, var(--card, rgba(255,255,255,0.9)) 90%, transparent 10%);\n      border-radius: 999px;\n      padding: 0.35rem 0.75rem;\n      font-size: 0.82rem;\n      font-weight: 700;\n      cursor: pointer;\n      color: var(--fg, #0b1021);\n      box-shadow: 0 12px 32px -24px rgba(0,0,0,0.55);\n      transition: transform 150ms ease, box-shadow 150ms ease;\n    }\n    .mosfet-fs-btn:hover {\n      transform: translateY(-1px);\n      box-shadow: 0 14px 36px -24px rgba(0,0,0,0.6);\n    }\n  ',document.head.appendChild(e)}(),n.classList.add("mosfet-shell");let l=g(n,"[data-mosfet-canvas]","mosfet-viewer-canvas"),i=g(n,"[data-mosfet-controls]","mosfet-controls-panel");i.style.display="none";let s=document.createElement("button");s.type="button",s.className="mosfet-fs-btn",s.textContent="Fullscreen",n.appendChild(s);let c=n.clientWidth||640,d=n.clientHeight||360,m=new r.Z58;m.background=new r.Q1f("#0b1021");let b=new r.JeP({antialias:!0,alpha:!0});b.setPixelRatio(Math.min(window.devicePixelRatio,2)),b.setSize(c,d,!1),b.outputColorSpace=r.er$,l.appendChild(b.domElement);let y=new u;y.setSize(c,d),y.domElement.className="mosfet-label-layer",l.appendChild(y.domElement);let A=new r.ubm(50,c/d,.1,2e3);A.position.set(22,16,24);let O=new o.N(A,b.domElement);O.enableDamping=!0,O.dampingFactor=.08,O.target.set(0,0,0),m.add(new r.$p8(0xffffff,.55));let M=new r.dth(0xffffff,3359829,.55);M.position.set(0,12,0),m.add(M);let _=new r.ZyN(0xffffff,.9);_.position.set(12,16,14),m.add(_);let z=new p.s(b),F=new f.A(m,A);z.addPass(F);let P=new h.C(new r.I9Y(c,d),.9,.6,.15);z.addPass(P);let T=new a.B,j=new Map,W=[],q=null,D=null,I=null,R=null,G={gateOn:!0,channelT:0,leakCandidate:!1,bloomEnabled:!0,bloomStrength:.9,showLabels:!0,xray:!1},B={Si_Substrate:null,Source:null,Drain:null,Gate_Oxide:null,Gate:null,Spacer_L:null,Spacer_R:null,Channel:null,CurrentArrow:null,LeakArrow:null,ILD:null,Contact_S:null,Contact_D:null,Contact_G:null,Anchor_Source:null,Anchor_Drain:null,Anchor_Gate:null,PlanarMOSFET_Root:null};function V(){P.enabled=G.bloomEnabled,P.strength=G.bloomStrength}function H(e){G.gateOn=e;let t=w(B.Channel),n=w(B.CurrentArrow),r=w(B.LeakArrow);if(C("Channel",t,j),C("CurrentArrow",n,j),C("LeakArrow",r,j),t&&e&&k(t,3331583,1.35),n&&(n.visible=e,e&&k(n,3331583,1.6)),r){let t=!e&&G.leakCandidate;r.visible=t,t&&k(r,0xffb347,.45)}}function Y(e){G.channelT=e;let t=7+-1.5999999999999996*e,n=t/7,r=B.Source,o=B.Drain,a=w(B.Channel),l=w(B.CurrentArrow),i=w(B.LeakArrow);r&&(r.position.x=-t),o&&(o.position.x=t),a&&(a.scale.x=n),l&&(l.scale.x=n),i&&(i.scale.x=n),G.leakCandidate=e>.75,H(G.gateOn)}function U(){I&&function(e,t,n){let o=n.getSize(new r.Pq0),a=n.getCenter(new r.Pq0),l=Math.max(o.x,o.y,o.z)/(2*Math.tan(r.cj9.degToRad(.5*e.fov))),i=l/e.aspect,s=1.6*Math.max(l,i),c=new r.Pq0(1.4,.8,1).normalize(),d=a.clone().add(c.multiplyScalar(s));e.position.copy(d),t.target.copy(a),e.near=s/50,e.far=100*s,e.updateProjectionMatrix()}(A,O,I)}function $(){if(!n)return;let e=n.clientWidth||c,t=n.clientHeight||d;A.aspect=e/t,A.updateProjectionMatrix(),b.setSize(e,t,!1),z.setSize(e,t),P.setSize(e,t),y.setSize(e,t)}function Z(){var e,t,r;if(n){if(document.fullscreenElement===n){null==(t=(r=document).exitFullscreen)||t.call(r);return}null==(e=n.requestFullscreen)||e.call(n).catch(e=>{console.error("[MOSFET Viewer] Fullscreen failed",e),i.style.display=""})}}T.load(null!=(e=t.modelUrl)?e:v,e=>{var t;let o=null!=(t=e.scene.getObjectByName("PlanarMOSFET_Root"))?t:e.scene;m.add(o),Object.keys(B).forEach(t=>{var n,r;B[t]=null!=(r=null!=(n=o.getObjectByName(t))?n:e.scene.getObjectByName(t))?r:null});let a=["Si_Substrate","Source","Drain","Gate_Oxide","Gate","Spacer_L","Spacer_R","Channel","CurrentArrow","LeakArrow"].filter(e=>!B[e]);a.length&&console.warn("[MOSFET Viewer] Missing nodes:",a.join(", "));let l=w(B.Channel),c=w(B.CurrentArrow),d=w(B.LeakArrow),u=w(B.Si_Substrate),p=w(B.Gate_Oxide),f=w(B.ILD);[l,c,d,u,p,f].forEach(E),S("Channel",l,j),S("CurrentArrow",c,j),S("LeakArrow",d,j),S("Si_Substrate",u,j),S("Gate_Oxide",p,j),S("ILD",f,j),p&&L(p,.32),f&&L(f,.32),Y(0),H(!0),V(),W=[N(B.Source,"Source",B.Anchor_Source),N(B.Drain,"Drain",B.Anchor_Drain),N(B.Gate,"Gate",B.Anchor_Gate)].filter(Boolean),I=new r.NRn().setFromObject(o),U(),function(){i.innerHTML="";let e=document.createElement("h4");e.textContent="Planar MOSFET Viewer",i.appendChild(e);let t=document.createElement("div");t.className="mosfet-control";let n=document.createElement("label"),r=document.createElement("input");r.type="checkbox",r.checked=!0,n.append(r,document.createTextNode("Gate ON")),t.appendChild(n),r.addEventListener("change",()=>H(r.checked)),i.appendChild(t);let o=document.createElement("div");o.className="mosfet-control";let a=document.createElement("label");a.textContent="Channel Length";let l=document.createElement("input");l.type="range",l.min="0",l.max="1",l.step="0.01",l.value="0";let s=document.createElement("span");s.className="value",s.textContent="Long",l.addEventListener("input",()=>{let e=Number(l.value);s.textContent=e>.75?"Ultra-short":e>.4?"Short":"Long",Y(e)}),o.append(a,l,s),i.appendChild(o);let c=document.createElement("div");c.className="mosfet-control";let d=document.createElement("label"),m=document.createElement("input");m.type="checkbox",m.checked=G.bloomEnabled,d.append(m,document.createTextNode("Bloom")),c.appendChild(d),m.addEventListener("change",()=>{G.bloomEnabled=m.checked,V()}),i.appendChild(c);let u=document.createElement("div");u.className="mosfet-control";let p=document.createElement("label");p.textContent="Bloom Strength";let f=document.createElement("input");f.type="range",f.min="0",f.max="2",f.step="0.01",f.value=G.bloomStrength.toString();let h=document.createElement("span");h.className="value",h.textContent=G.bloomStrength.toFixed(2),f.addEventListener("input",()=>{let e=Number(f.value);G.bloomStrength=e,h.textContent=e.toFixed(2),V()}),u.append(p,f,h),i.appendChild(u);let b=document.createElement("div");b.className="mosfet-control";let v=document.createElement("input");v.type="checkbox",v.checked=G.showLabels;let x=document.createElement("label");x.append(v,document.createTextNode("Show Labels")),b.appendChild(x),v.addEventListener("change",()=>{var e;G.showLabels=e=v.checked,W.forEach(t=>{t.element.style.display=e?"":"none"}),y.domElement.style.display=e?"":"none"}),i.appendChild(b);let g=document.createElement("div");g.className="mosfet-control";let E=document.createElement("input");E.type="checkbox",E.checked=!1;let S=document.createElement("label");S.append(E,document.createTextNode("X-Ray Substrate")),g.appendChild(S),E.addEventListener("change",()=>(function(e){G.xray=e;let t=w(B.Si_Substrate);t&&(e?L(t,.25):C("Si_Substrate",t,j))})(E.checked)),i.appendChild(g);let k=document.createElement("button");k.className="mosfet-reset",k.type="button",k.textContent="Reset View",k.addEventListener("click",U),i.appendChild(k)}(),s.addEventListener("click",Z),R=()=>{let e=document.fullscreenElement===n;i.style.display=e?"":"none",s.textContent=e?"Exit Fullscreen":"Fullscreen"},document.addEventListener("fullscreenchange",R);let h=()=>{O.update(),z.render(),y.render(m,A),D=requestAnimationFrame(h)};h()},void 0,e=>{console.error("[MOSFET Viewer] Failed to load model",e)}),window.addEventListener("resize",$),(q=new ResizeObserver(()=>$())).observe(n);let J=()=>{null!==D&&cancelAnimationFrame(D),window.removeEventListener("resize",$),null==q||q.disconnect(),O.dispose(),b.dispose(),z.dispose(),y.domElement.remove(),b.domElement.remove(),s.removeEventListener("click",Z),R&&document.removeEventListener("fullscreenchange",R),s.remove(),n[x]=void 0};return n[x]=J,J}if(r.ppV.enabled=!0,"undefined"!=typeof document){let e=()=>{A()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()}}}]);